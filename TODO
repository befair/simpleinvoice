PROBLEMI CRITICI
=================

1. E' fallito il risultato atteso di base. Il test concordato era:

a. registro uno o più nuovi clienti
b. sottoscrivo il servizio di associazione REES Marche
c. mando mail per segnalare il mancato pagamento

Risultato del test:

- Se registro 2 soci al 1 gennaio 2014 e mando email -> non viene inviata alcuna email

Come fare:

- Impostare il period_deadline_modifier a "-7" (ad esempio) e la mail viene inviata

2. Il campo PercentageDecimalField deve essere un campo del modello non della form. E inoltre senza opzioni viene visualizzato a cazzo

3. period_deadline_modifier deve avere un default a 0, nel campo e nella clean (messo io)

4. NELLA MAIL le date di inizio/fine periodo sono sbagliate! Quella di inizio di meno,
ma in questo caso dovrebbero essere 01/01/2014 e 01/01/2015. Riporto una mail di esempio sotto


PROBLEMI MINORI
===============

1. s/remaind/reminder ?  nella action
2. le visualizzazioni di datetime nelle changelist dovrebbero essere piu' brevi (v. django settings DATE_FORMAT mi sembra)
3. la colonna "is_deleted" non deve essere vista per il referente nelle sottoscrizioni

4. Aggiungere in ServiceSubscription:
    * service_details = "note da mettere nel dettaglio fattura"
    * howmany = quanti servizi sottoscrivo? default 1, nascosto per REES, ma per le mailing-list serve

5. help_text su period deadline modifier deve essere chiarito, a quanto lo posso impostare?
6. il Meta nel codice va messo subito dopo i campi (v. linee guida di sviluppo Django)

7. Non si deve poter aggiungere un pagamento se non ci sono sottoscrizioni
8. Non si deve poter aggiungere una sottoscrizione se non ci sono clienti.
9. Non si deve poter aggiungere una fattura se non ci sono clienti

MAIL di esempio come riferimento e correzioni
=============================================

* il nome del servizio va messo tra <p> (fatto)
* 1 period of subscription va tolto (fatto)
* il simbolo dell'euro va in htmlentities (fatto)
* la visualizzazione di un oggetto è autodefinita dal metodo __unicode__ non si deve andare a pescare l'attributo "name" (in genere). Questo può portare incoerenza (fatto)

* l'ammontare in euro va sempre con 2 cifre dopo la virgola (v. se c'è nel template o gasista felice)
* ci va anche la versione testuale (non so come si fa ma c'è un modo per mandarle entrambi e il client email decide quale visualizzare

<head></head>
<body>
    <p> Hi Luca Ferroni, we inform you that you have not paid the amount of 10 €,  
   corresponding to 1 period(s) of subscription to service
    Iscrizione Soci persone fisiche REESMarche 
   from date 31 dicembre 2013 to date 10 settembre 2014.

    Thanks for your attention.
    </p>
</body>
